<div class="movie-detail-container" *ngIf="movie && !isLoading">
  <button class="back-button" (click)="goBack()">‚Üê Back to Movies</button>
  
  <div class="movie-header">
    <div class="movie-poster-large">
      <div class="poster-placeholder-large">üé¨</div>
    </div>
    <div class="movie-header-info">
      <h1>{{ movie.title }}</h1>
      <p class="movie-tagline">{{ movie.tagline }}</p>
      <div class="movie-meta">
        <span class="movie-year">{{ movie.release_date | date:'yyyy' }}</span>
        <span class="movie-runtime">{{ movie.runtime }} min</span>
        <span class="movie-rating">‚≠ê {{ movie.vote_average }}/10 ({{ movie.vote_count }} votes)</span>
      </div>
      
    </div>
  </div>

  <div class="movie-content">
    <div class="movie-overview-section">
      <h2>Overview</h2>
      <p>{{ movie.overview }}</p>
    </div>

    <div class="movie-details-grid">
      <div class="detail-item">
        <h3>Director</h3>
        <p>{{ movie.director }}</p>
      </div>
      <div class="detail-item">
        <h3>Original Language</h3>
        <p>{{ movie.original_language | uppercase }}</p>
      </div>
      <div class="detail-item">
        <h3>Status</h3>
        <p>{{ movie.status }}</p>
      </div>
      <div class="detail-item">
        <h3>Budget</h3>
        <p>{{ movie.budget | currency:'USD':'symbol':'1.0-0' }}</p>
      </div>
      <div class="detail-item">
        <h3>Revenue</h3>
        <p>{{ movie.revenue | currency:'USD':'symbol':'1.0-0' }}</p>
      </div>
      <div class="detail-item">
        <h3>Popularity</h3>
        <p>{{ movie.popularity }}</p>
      </div>
    </div>


    

    
  </div>

  <div class="reviews-container">
<div class="reviews-container" *ngIf="movie">
  <app-review-form 
    [movieId]="movie.id" 
    [isLoggedIn]="isLoggedIn()"
    [userId]="currentUserId"
    (reviewAdded)="onReviewAdded($event)">
  </app-review-form>

  <app-review-list [reviews]="reviews"></app-review-list>
</div>
  <app-review-list [reviews]="reviews"></app-review-list>
</div>
</div>